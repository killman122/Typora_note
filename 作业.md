# 软件工程实验

### 数据库

数据库中包含一些表	t_book(图书表),t_history(图书借阅记录表),t_type(图书的类型),t_user(用户表)



### servlet包

BaseServlet类 :所有的Servlet都要继承此类,但是这个类又继承于HttpServlet类
						重写service方法(参数为HttpServletRequest): 设置编码(设置请求的编码和设置相应的编码request.setCharacterEncoding("UTF-8")),设置响应内容的类型(setContentType("text/html;charest = "utf-8")),获取请求路径中的方法参数/方法名(request.getParameter("method")),获取类Class<? extends BaseServelt>clazz, 获取要执行的方法 Method method  = clazz.getDeclaredMethod;   在BaseServlet类中进行异常处理,如果登陆时出现异常,找到"error.jsp"页面,进行跳转,显示出异常的页面

在LoginServlet类下,使用login方法,该方法继承于BaseServlet类,login方法通过request.getParameter()方法获取前端jsp页面中传递的账号和密码



### config文件目录

在文件目录中存在一个c3p0-config的配置文件,这里配置了jdbc连接数据库,设置了数据库的连接账号和密码

为了更好的使用c3p0编写一个工具类叫c3p0工具类,获取数据源,一个静态方法getDataSource返回datasource; 使用静态方法getConnection返回datasource.getConnection()获取连接,



### UserDao类

用户的数据连接层,使用delUser方法删除用户,在函数内部填写sql语句,其中sql语句中要删除的的用户不是固定的是一个变量,使用?代替,使用Object数组,其中{}内填写id;

entity包